<section class="section">
  <header class="section-header">
    <h2 class="section-title">Contact Us</h2>
    <p class="section-subtitle">
      Send us a message to inquire about booking a tour, log a complaint, or share feedback.
    </p>
  </header>

  <div class="contact-layout">
    <form class="card contact-form" (ngSubmit)="onSubmit()" #contactForm="ngForm" novalidate>
      <div class="field">
        <label for="name">Full Name</label>
        <input
          id="name"
          name="name"
          type="text"
          required
          minlength="2"
          maxlength="120"
          [(ngModel)]="model.name"
        />
      </div>

      <div class="field">
        <label for="email">Email Address</label>
        <input
          id="email"
          name="email"
          type="email"
          required
          email
          maxlength="120"
          [(ngModel)]="model.email"
        />
      </div>

      <div class="field">
        <label for="messageType">Reason for Contact</label>
        <select
          id="messageType"
          name="messageType"
          required
          [(ngModel)]="model.messageType"
          (ngModelChange)="onMessageTypeChange()"
        >
          <option value="Tour Booking Inquiry">Tour Booking Inquiry</option>
          <option value="Complaint">Complaint</option>
          <option value="Feedback">Feedback</option>
        </select>
      </div>

      <div class="field" *ngIf="isTourInquiry()">
        <label for="tourType">Tour Type</label>
        <select id="tourType" name="tourType" [(ngModel)]="model.tourType" required>
          <option>General Tour</option>
          <option>School / Educational Group</option>
          <option>Cruise Ship Excursion</option>
          <option>Private Guided Tour</option>
        </select>
      </div>

      <div class="field inline" *ngIf="isTourInquiry()">
        <div>
          <label for="groupSize">Group Size</label>
          <input
            id="groupSize"
            name="groupSize"
            type="number"
            min="1"
            max="500"
            [(ngModel)]="model.groupSize"
          />
        </div>
        <div>
          <label for="preferredDate">Preferred Date</label>
          <input id="preferredDate" type="date" name="preferredDate" [min]="minDate()" [(ngModel)]="model.preferredDate" />
        </div>
      </div>

      <div class="field">
        <label for="subject">Subject</label>
        <input
          id="subject"
          name="subject"
          type="text"
          required
          minlength="3"
          maxlength="120"
          [(ngModel)]="model.subject"
        />
      </div>

      <div class="field">
        <label for="message">Message</label>
        <textarea
          id="message"
          name="message"
          rows="5"
          required
          minlength="10"
          maxlength="2000"
          [(ngModel)]="model.message"
        ></textarea>
      </div>

      <button class="btn-primary" type="submit" [disabled]="!contactForm.form.valid">
        Send Message
      </button>

      <p *ngIf="submitted" class="success">
        Thank you. Your {{ model.messageType.toLowerCase() }} message has been received.
      </p>
    </form>

    <aside class="card contact-info">
      <h3>Contact Details</h3>
      <p>
        <strong>Address:</strong><br />
        Swamp Safari Attraction<br />
        Near Falmouth, Trelawny, Jamaica
      </p>
      <p>
        <strong>Phone:</strong><br />
        (876) 000-0000
      </p>
      <p>
        <strong>Email:</strong><br />
        info@swampsafarijamaica.com
      </p>

      <h4>Response Times</h4>
      <ul>
        <li>Tour inquiries: usually within 1 business day.</li>
        <li>Complaints: acknowledged within 2 business days.</li>
        <li>Feedback: reviewed by our operations team weekly.</li>
      </ul>
    </aside>
  </div>
</section>
